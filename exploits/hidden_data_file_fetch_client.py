import sys
import socket
import subprocess

visual=0
tags={}
tg=0
x,y,z=0,0,0

host = '61.69.177.172'  # Replace with the IP address or hostname of the server
port = 1080  # Replace with the port number you specified in the server code
     
with open('output.csv','w') as sys.stdout:
    for line in sys.stdin:
        print(line,end='')
        if line=='\n':
                visual=1
                continue
        if visual==0:
            if tg==0:
                x_count, y_count, z_count, parent_x, parent_y, parent_z=list(map(int,line.split(',')))
                tg=1
            else:
                tags[line.split(',')[0]]=line.split(',')[1].replace(' ','')
        else:
            x=0
            
            
            for i in line:
                if i!='\n':
                    pass
                x+=1
            y+=1
            if(y>=y_count):
                    y=0
                    z+=1

def send_file():
    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client_socket.connect((host, port))  # Replace with the server's IP address and port

    with open('output.csv', 'rb') as f:
        while True:
            data = f.read(1024)
            if not data:
                break
            client_socket.send(data)

    client_socket.close()

send_file()